# ==========================================
# AWS PRODUCTION DATABASE CONFIGURATION (Updated Mumbai ap-south-1)
# ==========================================

# 1. Updated Database URL
# Note: verify if your DB name is 'xpo' or 'mysql'. Usually, it's 'xpo' for your project.
spring.datasource.url=jdbc:mysql://xpomedia-db.cz0akso48444.ap-south-1.rds.amazonaws.com:3306/xpo?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true

# 2. Database Credentials
spring.datasource.username=admin
# Replace with the password you use in your mysql terminal command
spring.datasource.password=mysqlxpo26

# ==========================================
# CONNECTION POOL OPTIMIZATION (CRITICAL FIX)
# ==========================================

# Prevents the "Too many connections" error by limiting the app to 5 connections
spring.datasource.hikari.maximum-pool-size=5
# Closes connections that have been idle for 30 seconds
spring.datasource.hikari.idle-timeout=30000
# Keep connection alive settings
spring.datasource.hikari.keepalive-time=60000

# ==========================================
# JPA / HIBERNATE SETTINGS
# ==========================================

# Keep as 'update' to preserve your school data
spring.jpa.hibernate.ddl-auto=update

# Using the modern dialect (MySQL8Dialect is deprecated)
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# Console logging settings
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
